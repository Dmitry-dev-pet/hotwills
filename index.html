<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ç–∞–ª–æ–≥</title>
  <link rel="stylesheet" href="css/theme-colors.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/editor.css">
  <script src="js/theme.js"></script>
</head>
<body>
  <div class="top-header">
    <a class="top-header-brand" href="./">Hotwills</a>
  </div>

  <div class="toolbar">
    <select id="modeSelect" class="mode-select">
      <option value="gallery" data-t="catalog">–ö–∞—Ç–∞–ª–æ–≥</option>
      <option value="editor" data-t="editor">–†–µ–¥–∞–∫—Ç–æ—Ä</option>
      <option value="infographic" data-t="infographic">–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞</option>
    </select>
    <button type="button" id="loadFolderBtn" data-t="loadFolder">–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞–ø–∫—É</button>
    <input type="file" id="folderInput" multiple webkitdirectory directory style="display:none">
    <select id="sortSelect">
      <option value="name" data-t="sortByName">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
      <option value="code" data-t="sortByCode">–ü–æ –∫–æ–¥—É</option>
      <option value="year" data-t="sortByYear">–ü–æ –≥–æ–¥—É</option>
    </select>
    <input type="text" id="searchInput" class="toolbar-search" autocomplete="off">
    <button type="button" id="favoritesBtn" class="mode-gallery" title="Favorites">‚ô°</button>
    <button type="button" id="addPhotoBtn" class="mode-editor" data-t="addPhoto">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</button>
    <input type="file" id="addPhotoInput" accept="image/*" multiple style="display:none">
    <button type="button" id="copyBtn" class="mode-editor" data-t="copyJson">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON</button>
    <button type="button" id="saveBtn" class="mode-editor" data-t="saveJson">–°–∫–∞—á–∞—Ç—å JSON</button>
    <button type="button" id="cloudSaveBtn" class="mode-editor" data-t="saveCloud">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–±–ª–∞–∫–æ</button>
    <button type="button" id="cloudReloadBtn" data-t="reloadCloud">–û–±–Ω–æ–≤–∏—Ç—å</button>
    <span class="bar-spacer"></span>
    <a class="toolbar-icon-link" href="https://github.com/Dmitry-dev-pet/hotwills" target="_blank" rel="noopener" aria-label="GitHub" title="GitHub">
      <svg viewBox="0 0 16 16" width="18" height="18" aria-hidden="true">
        <path fill="currentColor" d="M8 .2a8 8 0 0 0-2.53 15.59c.4.07.55-.17.55-.38v-1.33c-2.23.49-2.7-1.08-2.7-1.08-.36-.93-.9-1.18-.9-1.18-.74-.5.06-.5.06-.5.81.06 1.23.83 1.23.83.72 1.24 1.9.88 2.36.67.07-.52.28-.88.5-1.08-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.58.82-2.14-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82a7.6 7.6 0 0 1 4 0c1.52-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.14 0 3.07-1.87 3.75-3.66 3.95.29.24.54.72.54 1.45v2.14c0 .21.14.46.55.38A8 8 0 0 0 8 .2Z"/>
      </svg>
    </a>
    <details class="auth-menu">
      <summary class="auth-menu-trigger" aria-label="Account">üë§</summary>
      <div class="auth-menu-panel">
        <div class="auth-menu-userline">
          <span class="auth-user" id="authUser">anonymous</span>
          <button type="button" id="authSignOutBtn" data-t="signOut">–í—ã–π—Ç–∏</button>
        </div>
        <div class="auth-menu-buttons">
          <button type="button" id="authSignInBtn" data-t="authorize">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</button>
        </div>
        <div class="auth-owner-row">
          <label for="authOwnerSelect" data-t="catalogOwner">–ö–∞—Ç–∞–ª–æ–≥</label>
          <select id="authOwnerSelect"></select>
        </div>
        <span class="auth-status" id="authStatus"></span>
      </div>
    </details>
    <select id="themeSelect">
      <option value="light">‚òÄ</option>
      <option value="dark">üåô</option>
    </select>
    <select id="langSelect">
      <option value="ru">RU</option>
      <option value="en">EN</option>
      <option value="pt">PT</option>
    </select>
  </div>

  <div id="viewGallery" class="view">
    <div class="main">
      <div class="gallery-container">
        <div class="gallery" id="gallery"></div>
      </div>
    </div>
    <div class="modal-overlay" id="modalOverlay">
      <button type="button" class="modal-nav modal-nav-left" id="modalPrev">‚Äπ</button>
      <button type="button" class="modal-nav modal-nav-right" id="modalNext">‚Ä∫</button>
      <div class="modal" id="modal">
        <div class="modal-header">
          <div class="modal-title" id="modalTitle"></div>
          <button type="button" class="modal-close" id="modalClose">√ó</button>
        </div>
        <div class="modal-body">
          <div id="modalContent"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="viewInfographic" class="view hidden">
    <div class="infographic-wrap">
      <div class="infographic-content">
        <div class="infographic-grid" id="infographicGrid"></div>
        <div class="infographic-chart" id="infographicChart"></div>
      </div>
      <div class="infographic-popover" id="infographicPopover"></div>
    </div>
  </div>

  <div id="viewEditor" class="view hidden">
    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th data-t="preview">–ü—Ä–µ–≤—å—é</th>
            <th data-t="name">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th data-t="year">–ì–æ–¥</th>
            <th data-t="code">–ö–æ–¥</th>
            <th data-t="file">–§–∞–π–ª</th>
            <th data-t="link">–°—Å—ã–ª–∫–∞</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </div>

  <div class="modal-overlay" id="yearModalOverlay" aria-hidden="true">
    <div class="modal modal-year" id="yearModal">
      <div class="modal-header">
        <h3 class="modal-title" id="yearModalTitle">1965</h3>
        <button type="button" class="modal-close" id="yearModalClose">√ó</button>
      </div>
      <div class="modal-body">
        <div class="gallery-container">
          <div class="gallery" id="yearModalGallery"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script src="config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/translations.js"></script>
  <script src="js/supabase.js"></script>
  <script src="js/core.js"></script>
  <script src="js/gallery.js"></script>
  <script src="js/editor.js"></script>
  <script src="js/infographic.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
